# 路由模式

1. hash 模式，会在 URL 地址上添加#，#后面的内容就是 hash 值，通过监听 window 对象的 hashChange 事件，根据 hash 值匹配对应组件实现路由切换，而不重载页面。但因为#让 URL 看起来不美观，hash 值是不会被发送到服务端的从而导致不够语义化，SEO 不友好。
2. history 模式，URL 不带#，它是利用 HTML5 History API 来管理路由的，通过 pushState、popState, replaceState 等方法改变 URL， 实现路由切换而且不会触发页面刷新，因为是客户端脚本触发的 URL 变化，所以不会马上向服务端发送请求。history 模式下的 URL 则是和传统路径一样，所以更加语义化，seo 相对来说更好。但是 history 需要服务端配合，如果后端没有配置则客户端刷新会出现访问 404 的情况。

# 配置方式

1. vue2 中通过 **new Router()**创建路由实例，通过 mode 配置路由模式，默认是 hash 模式，可选值有 hash 和 history。
2. vue3 中通过 **createRouter()**创建路由实例，通过 history 配置路由模式，通过调用**createWebHistory**创建 HTML5 历史，通过调用**createWebHashHistory**创建 hash 模式历史。

# 404 路由配置

1. vue2 中通过 { path: '\*', component: NotFound } 配置 404 路由
2. vue3 中通过 { path: '/:pathMatch(.\*)', component: NotFound } 配置 404 路由

# 导航守卫

## 全局
1. beforeEach: 全局前置守卫，会在路由切换前执行，通常用于权限校验，路由跳转等。router.beforeEach((to, from, next) => {})
2. beforeResolve: 全局解析守卫，会在路由导航确认前， 组件内守卫和异步路由组件被解析后执行 。router.beforeResolve((to, from, next) => {})
3. afterEach: 全局后置守卫，会在路由切换后执行，通常用于重置页面标题，页面滚动位置等。router.afterEach((to, from) => {})

## 路由独享

1. beforeRouterEnter: 路由独享守卫，会在路由切换前执行，通常用于权限校验，路由跳转等。
2. beforeRouterUpdate: 路由更新守卫，当前路由组件被复用时触发，通常用于路由参数变化时执行某些操作。
3. beforeRouterLeave: 路由离开守卫，路由离开前触发，通常用于返回拦截。
（组合式 API 中，通过onBeforeRouteUpdate 和 onBeforeRouteLeave 来实现。返回true则继续导航，返回false则取消导航）
